バリデーションの修正とプロダクトコントローラーの訂正